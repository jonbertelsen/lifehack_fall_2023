<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<div th:replace="~{fragments :: head('Bøde')}"></div>

<body>
<audio id="audioPlayer" controls>
    <source src="../images/gruppem/effect.mp3" type="audio/mpeg">
</audio>

<div id="page-container">
    <div id="page-content">
        <div th:replace="~{fragments :: header('Beregn din fartbøde')}"></div>


        <div class="boderegner">

            <div class="bodeind">

                <form method="post">
                    <input type="text" name="speed" class="fart-input" placeholder="Hvor hurtigt kørte du?" required/>
                    <div id="tavle-content">

                        <div id="tavler">

                            <input id="50" class="hidden-radio" type="radio" name="zone" value="50" required>
                            <label for="50" class="image-radio" data-image="50-image"></label>

                            <input id="80" class="hidden-radio" type="radio" name="zone" value="80" required>
                            <label for="80" class="image-radio" data-image="80-image"></label>

                            <input id="110" class="hidden-radio" type="radio" name="zone" value="110" required>
                            <label for="110" class="image-radio" data-image="110-image"></label>

                            <input id="130" class="hidden-radio" type="radio" name="zone" value="130" required>
                            <label for="130" class="image-radio" data-image="130-image"></label>

                        </div>

                        <button type="submit" onclick="checkAndPlayAudio()" class="bode_button"
                                formaction="/boderegner">Beregn Bøde
                        </button>

                    </div>

                    <p class="errormessage" th:text="${#ctx.message}"></p>
                    <P class="fee" th:text="${#ctx.fee}"></P>
                    <P class="feeaddon" th:text="${#ctx.feeAddOn}"></P>


                </form>


                <script>
                    // Define a function to handle the checking and audio playing
                    function checkAndPlayAudio() {
                        var feeAddOn = document.querySelector('ctx.feeaddon').textContent.trim();
                        var audioPlayer = document.getElementById("audioPlayer");

                        // Check the value with an if statement
                        if (feeAddOn === "klip i kørekort") {
                            console.log("The fee add-on is 'klip i kørekort'. Playing audio.");
                            audioPlayer.play();
                        }
                    }

                    // Add an event listener to ensure the page is fully loaded before running the code
                    document.addEventListener("DOMContentLoaded", checkAndPlayAudio);
                </script>

            </div>


        </div>


        <div th:replace="~{fragments :: footer}"></div>
    </div>
</div>
</body>
</html>


